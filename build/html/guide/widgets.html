<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="twitter:site" content="@kivyframework">
    
    <title>Widgets &mdash; Kivy 1.9.1 documentation</title>
    <link href='//fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../_static/fresh.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-effects-core-and-slide.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/kivy.js"></script>
    <link rel="top" title="Kivy 1.9.1 documentation" href="../index.html" />
    <link rel="up" title="Programming Guide" href="../guide-index.html" />
    <link rel="next" title="Graphics" href="graphics.html" />
    <link rel="prev" title="Input management" href="inputs.html" /> 
  </head>
  <body>

    <div id="topbar">
        <div id="topwrapper">
        <div id="toplogo">
            <a href="http://kivy.org/">
                <img src="../_static/logo-kivy.png" alt="Kivy" height="50"/>
            </a>
        </div>
        <div id="topmenu">
            <ul class="navigation">
                <li><a class="nav-guides" href="../gettingstarted/intro.html">Guides</a></li>
                <li><a class="nav-garden" href="http://kivy-garden.github.io/">Garden</a></li>
                <li><a class="nav-api" href="../api-kivy.html">API Reference</a></li>
                <li><a class="nav-pdf" href="http://kivy.org/docs/pdf/Kivy-latest.pdf">PDF</a></li>
                <li><a class="nav-wiki" href="http://wiki.kivy.org">Wiki</a></li>
            </ul>
        </div>
        </div>
    </div>
<div id="contentall">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
                &nbsp;
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input type="text" class="text" name="q" />
            </form>
          <!--
          <h3><a href="../index.html">Widgets</a></h3>
          <ul>
<li><a class="reference internal" href="#">Widgets</a><ul>
<li><a class="reference internal" href="#introduction-to-widget">Introduction to Widget</a></li>
<li><a class="reference internal" href="#manipulating-the-widget-tree">Manipulating the Widget tree</a></li>
<li><a class="reference internal" href="#traversing-the-tree">Traversing the Tree</a></li>
<li><a class="reference internal" href="#widgets-z-index">Widgets Z Index</a></li>
<li><a class="reference internal" href="#organize-with-layouts">Organize with Layouts</a></li>
<li><a class="reference internal" href="#adding-a-background-to-a-layout">Adding a Background to a Layout</a><ul>
<li><a class="reference internal" href="#add-a-color-to-the-background-of-a-custom-layouts-rule-class">Add a color to the background of a <strong>custom layouts rule/class</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nesting-layouts">Nesting Layouts</a></li>
<li><a class="reference internal" href="#size-and-position-metrics">Size and position metrics</a></li>
<li><a class="reference internal" href="#screen-separation-with-screen-manager">Screen Separation with Screen Manager</a></li>
</ul>
</li>
</ul>

          <h3><a href="../index.html">Table Of Contents</a></h3>
          -->
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/first_app.html">A first App</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/properties.html">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/rules.html">Kv Design Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/framework.html">Non-widget stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/layouts.html">Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/drawing.html">Drawing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/packaging.html">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/diving.html">Diving in</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user-guide.html">User&#8217;s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../philosophy.html">Philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contact.html">Contact Us</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../guide-index.html">Programming Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic.html">Kivy Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment.html">Controlling the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configure Kivy</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Architectural Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html">Events and Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs.html">Input management</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="lang.html">Kv language</a></li>
<li class="toctree-l2"><a class="reference internal" href="other-frameworks.html">Integrating with other Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="bestpractices.html">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="advancedgraphics.html">Advanced Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging.html">Packaging your application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/pong.html">Pong Game Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/firstwidget.html">A Simple Paint App</a></li>
</ul>
</li>
</ul>

          <!--
          <h3>Related Topics</h3>
          <ul>
              <li>Previous: <a href="inputs.html" title="previous chapter">Input management</a></li>
              <li>Next: <a href="graphics.html" title="next chapter">Graphics</a></li>
          </ul>
          -->
        </div>
      </div>
    <div id="content">
    <div class="wrapper">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            <div class="toc"><h2>Table Of Contents</h2><ul>
<li><a class="reference internal" href="#">Widgets</a><ul>
<li><a class="reference internal" href="#introduction-to-widget">Introduction to Widget</a></li>
<li><a class="reference internal" href="#manipulating-the-widget-tree">Manipulating the Widget tree</a></li>
<li><a class="reference internal" href="#traversing-the-tree">Traversing the Tree</a></li>
<li><a class="reference internal" href="#widgets-z-index">Widgets Z Index</a></li>
<li><a class="reference internal" href="#organize-with-layouts">Organize with Layouts</a></li>
<li><a class="reference internal" href="#adding-a-background-to-a-layout">Adding a Background to a Layout</a><ul>
<li><a class="reference internal" href="#add-a-color-to-the-background-of-a-custom-layouts-rule-class">Add a color to the background of a <strong>custom layouts rule/class</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nesting-layouts">Nesting Layouts</a></li>
<li><a class="reference internal" href="#size-and-position-metrics">Size and position metrics</a></li>
<li><a class="reference internal" href="#screen-separation-with-screen-manager">Screen Separation with Screen Manager</a></li>
</ul>
</li>
</ul>
</div>
            
  <div class="section" id="widgets">
<span id="id1"></span><h1>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction-to-widget">
<h2>Introduction to Widget<a class="headerlink" href="#introduction-to-widget" title="Permalink to this headline">¶</a></h2>
<p>A <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> is the base building block of GUI interfaces in Kivy.
It provides a <code class="xref py py-class docutils literal"><span class="pre">Canvas</span></code> that can be used to draw on screen. It receives events
and reacts to them. For a in-depth explanation about the <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> class,
look at the module documentation.</p>
</div>
<div class="section" id="manipulating-the-widget-tree">
<h2>Manipulating the Widget tree<a class="headerlink" href="#manipulating-the-widget-tree" title="Permalink to this headline">¶</a></h2>
<p>Widgets in Kivy are organized in trees. Your
application has a <cite>root widget</cite>, which usually has <code class="xref py py-attr docutils literal"><span class="pre">children</span></code> that can have
<code class="xref py py-attr docutils literal"><span class="pre">children</span></code> of their own. Children of a widget are represented as the <code class="xref py py-attr docutils literal"><span class="pre">children</span></code>
attribute, a Kivy <code class="xref py py-class docutils literal"><span class="pre">ListProperty</span></code>.</p>
<p>The widget tree can be manipulated with the following methods:</p>
<ul class="simple">
<li><code class="xref py py-meth docutils literal"><span class="pre">add_widget()</span></code>: add a widget as a child</li>
<li><code class="xref py py-meth docutils literal"><span class="pre">remove_widget()</span></code>: remove a widget from the
children list</li>
<li><code class="xref py py-meth docutils literal"><span class="pre">clear_widgets()</span></code>: remove all children from a
widget</li>
</ul>
<p>For example, if you want to add a button inside a BoxLayout, you can do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;My first button&#39;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
</pre></div>
</div>
<p>The button is added to layout: the button&#8217;s parent property will be set to layout;
the layout will have the button added to its children list. To remove the button
from the layout:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">layout</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
</pre></div>
</div>
<p>With removal, the button&#8217;s parent property will be set to None, and the layout
will have button removed from its children list.</p>
<p>If you want to clear all the children inside a widget, use
<code class="xref py py-meth docutils literal"><span class="pre">clear_widgets()</span></code> method:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">layout</span><span class="o">.</span><span class="n">clear_widgets</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Never manipulate the children list yourself, unless you really know what you
are doing. The widget tree is associated with a graphic tree. For example, if you
add a widget into the children list without adding its canvas to the
graphics tree, the widget will be a child, yes, but nothing will be drawn
on the screen. Moreover, you might have issues on further calls of
add_widget, remove_widget and clear_widgets.</p>
</div>
</div>
<div class="section" id="traversing-the-tree">
<h2>Traversing the Tree<a class="headerlink" href="#traversing-the-tree" title="Permalink to this headline">¶</a></h2>
<p>The Widget class instance&#8217;s <code class="xref py py-attr docutils literal"><span class="pre">children</span></code> list property
contains all the children. You can easily traverse the tree by doing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">root</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">()</span>
<span class="c1"># ... add widgets to root ...</span>
<span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</pre></div>
</div>
<p>However, this must be used carefully. If you intend to modify the children list
with one of the methods shown in the previous section, you must use a copy of
the list like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">[:]:</span>
    <span class="c1"># manipulate the tree. For example here, remove all widgets that have a</span>
    <span class="c1"># width &lt; 100</span>
    <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">width</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">remove_widget</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</pre></div>
</div>
<p>Widgets don&#8217;t influence the size/pos of their children by default. The
<code class="xref py py-attr docutils literal"><span class="pre">pos</span></code> attribute is the absolute position in screen co-ordinates (unless, you
use the <code class="xref py py-mod docutils literal"><span class="pre">relativelayout</span></code>. More on that later) and <code class="xref py py-attr docutils literal"><span class="pre">size</span></code>, is an absolute size.</p>
</div>
<div class="section" id="widgets-z-index">
<h2>Widgets Z Index<a class="headerlink" href="#widgets-z-index" title="Permalink to this headline">¶</a></h2>
<p>The order of widget drawing is based on the widget&#8217;s position in
the widget tree. The <code class="xref py py-attr docutils literal"><span class="pre">add_widget</span></code>
method takes an <cite>index</cite> parameter which can be used to specify it&#8217;s position in
the widget tree:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
<p>The lower indexed widgets will be drawn above those with a higher index. Keep
in mind that the default for <cite>index</cite> is 0, so widgets added later
are drawn on top of the others unless specified otherwise.</p>
</div>
<div class="section" id="organize-with-layouts">
<h2>Organize with Layouts<a class="headerlink" href="#organize-with-layouts" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-mod docutils literal"><span class="pre">layout</span></code> is a special kind of widget that controls the size and position of
its children. There are different kinds of layouts, allowing for different
automatic organization of their children. Layouts use <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code>
properties to determine the <code class="xref py py-attr docutils literal"><span class="pre">size</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">pos</span></code> of their <code class="xref py py-attr docutils literal"><span class="pre">children</span></code>.</p>
<p><strong>BoxLayout</strong>:
Arranges widgets in an adjacent manner (either vertically or horizontally) manner,
to fill all the space. The size_hint property of children can be used to change
proportions allowed to each child, or set fixed size for some of them.</p>
<img alt="../_images/boxlayout.gif" src="../_images/boxlayout.gif" />
<img alt="../_images/gridlayout.gif" src="../_images/gridlayout.gif" />
<img alt="../_images/stacklayout.gif" src="../_images/stacklayout.gif" />
<img alt="../_images/anchorlayout.gif" src="../_images/anchorlayout.gif" />
<img alt="../_images/floatlayout.gif" src="../_images/floatlayout.gif" />
<p><strong>GridLayout</strong>:
Arranges widgets in a grid. You must specify at least one dimension of the
grid so kivy can compute the size of the elements and how to arrange them.</p>
<p><strong>StackLayout</strong>:
Arranges widgets adjacent to one another, but with a set size in one of the
dimensions, without trying to make them fit within the entire space. This is
useful to display children of the same predefined size.</p>
<p><strong>AnchorLayout</strong>:
A simple layout only caring about children positions. It allows putting the
children at a position relative to a border of the layout.
<cite>size_hint</cite> is not honored.</p>
<p><strong>FloatLayout</strong>:
Allows placing children with arbitrary locations and size, either absolute or
relative to the layout size. Default size_hint (1, 1) will make every child
the same size as the whole layout, so you probably want to change this value
if you have more than one child. You can set size_hint to (None, None) to use
absolute size with <cite>size</cite>. This widget honors <cite>pos_hint</cite> also, which as a dict
setting position relative to layout position.</p>
<p><strong>RelativeLayout</strong>:
Behaves just like FloatLayout, except children positions are relative to layout
position, not the screen.</p>
<p>Examine the documentation of the individual layouts for a more in-depth
understanding.</p>
<p><code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code>:</p>
<ul class="simple">
<li><code class="xref py py-mod docutils literal"><span class="pre">floatlayout</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">boxlayout</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">gridlayout</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">stacklayout</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">relativelayout</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">anchorlayout</span></code></li>
</ul>
<p><code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code> is a <code class="xref py py-class docutils literal"><span class="pre">ReferenceListProperty</span></code> of
<code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code>. It accepts values from <cite>0</cite> to <cite>1</cite> or <cite>None</cite>
and defaults to <cite>(1, 1)</cite>. This signifies that if the widget is in a layout,
the layout will allocate it as much place as possible in both directions
(relative to the layouts size).</p>
<p>Setting <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code> to (0.5, 0.8), for example, will make the widget 50% the
width and 80% the height of available size for the <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> inside a <code class="xref py py-mod docutils literal"><span class="pre">layout</span></code>.</p>
<p>Consider the following example:</p>
<div class="highlight-kv"><div class="highlight"><pre><span></span><span class="nc">BoxLayout</span><span class="p">:</span>
    <span class="nc">Button</span><span class="p">:</span>
        <span class="na">text</span><span class="p">:</span> <span class="s1">&#39;Button 1&#39;</span>
        <span class="c1"># default size_hint is 1, 1, we don&#39;t need to specify it explicitly</span>
        <span class="c1"># however it&#39;s provided here to make things clear</span>
        <span class="na">size_hint</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
</pre></div>
</div>
<p>load kivy catalog:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd $KIVYDIR/examples/demo/kivycatalog
python main.py
</pre></div>
</div>
<p>Replace $KIVYDIR with the directory of your installation of Kivy. Click on the
button labeled <cite>Box Layout</cite> from the left. Now paste the code from above into
the editor panel on the right.</p>
<img alt="../_images/size_hint[B].jpg" src="../_images/size_hint[B].jpg" />
<p>As you can see from the image above, the <cite>Button</cite> takes up 100% of the layout
<code class="xref py py-attr docutils literal"><span class="pre">size</span></code>.</p>
<p>Changing the <code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code>/<code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code> to .5 will make the <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> take 50%
of the <code class="xref py py-mod docutils literal"><span class="pre">layout</span></code> <code class="xref py py-attr docutils literal"><span class="pre">width</span></code>/<code class="xref py py-attr docutils literal"><span class="pre">height</span></code>.</p>
<img alt="../_images/size_hint[b_].jpg" src="../_images/size_hint[b_].jpg" />
<p>You can see here that, although we specify <code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code> both
to be .5, only <code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code> seems to be honored. That is because <code class="xref py py-mod docutils literal"><span class="pre">boxlayout</span></code>
controls the <code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code> when <code class="xref py py-attr docutils literal"><span class="pre">orientation</span></code> is <cite>vertical</cite> and <code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code>
when <code class="xref py py-attr docutils literal"><span class="pre">orientation</span></code> is &#8216;horizontal&#8217;. The controlled dimension&#8217;s size is calculated depending
upon the total no. of <code class="xref py py-attr docutils literal"><span class="pre">children</span></code> in the <code class="xref py py-mod docutils literal"><span class="pre">boxlayout</span></code>. In this example, one child has
<code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code> controlled (.5/.5 = 1). Thus, the widget takes 100% of the parent
layout&#8217;s height.</p>
<p>Let&#8217;s add another <code class="xref py py-class docutils literal"><span class="pre">Button</span></code> to the <code class="xref py py-mod docutils literal"><span class="pre">layout</span></code> and see what happens.</p>
<img alt="../_images/size_hint[bb].jpg" src="../_images/size_hint[bb].jpg" />
<p><code class="xref py py-mod docutils literal"><span class="pre">boxlayout</span></code> by its very nature divides the available space between its
<code class="xref py py-attr docutils literal"><span class="pre">children</span></code> equally. In our example, the proportion is 50-50, because we have two
<code class="xref py py-attr docutils literal"><span class="pre">children</span></code>. Let&#8217;s use size_hint on one of the children and see the results.</p>
<img alt="../_images/size_hint[oB].jpg" src="../_images/size_hint[oB].jpg" />
<p>If a child specifies <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code>, this specifies how much space the <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code>
will take out of the <code class="xref py py-attr docutils literal"><span class="pre">size</span></code> given to it by the <code class="xref py py-mod docutils literal"><span class="pre">boxlayout</span></code>. In our example, the
first <code class="xref py py-class docutils literal"><span class="pre">Button</span></code> specifies .5 for <code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code>. The space for the widget is
calculated like so:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">first</span> <span class="n">child</span><span class="s1">&#39;s size_hint divided by</span>
<span class="n">first</span> <span class="n">child</span><span class="s1">&#39;s size_hint + second child&#39;</span><span class="n">s</span> <span class="n">size_hint</span> <span class="o">+</span> <span class="o">...</span><span class="n">n</span><span class="p">(</span><span class="n">no</span> <span class="n">of</span> <span class="n">children</span><span class="p">)</span>

<span class="o">.</span><span class="mi">5</span><span class="o">/</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">.</span><span class="mf">333.</span><span class="o">..</span>
</pre></div>
</div>
<p>The rest of the BoxLayout&#8217;s <code class="xref py py-attr docutils literal"><span class="pre">width</span></code> is divided among the rest of the <code class="xref py py-attr docutils literal"><span class="pre">children</span></code>.
In our example, this means the second <code class="xref py py-class docutils literal"><span class="pre">Button</span></code> takes up 66.66% of the <code class="xref py py-mod docutils literal"><span class="pre">layout</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">width</span></code>.</p>
<p>Experiment with <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code> to get comfortable with it.</p>
<p>If you want to control the absolute <code class="xref py py-attr docutils literal"><span class="pre">size</span></code> of a <code class="xref py py-class docutils literal"><span class="pre">Widget</span></code>, you can set
<code class="xref py py-attr docutils literal"><span class="pre">size_hint_x</span></code>/<code class="xref py py-attr docutils literal"><span class="pre">size_hint_y</span></code> or both to <cite>None</cite> so that the widget&#8217;s <code class="xref py py-attr docutils literal"><span class="pre">width</span></code> and or
<code class="xref py py-attr docutils literal"><span class="pre">height</span></code> attributes will be honored.</p>
<p><code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code> is a dict, which defaults to empty. As for <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code>, layouts honor
<code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code> differently, but generally you can add values to any of the <code class="xref py py-attr docutils literal"><span class="pre">pos</span></code>
attributes (<code class="xref py py-attr docutils literal"><span class="pre">x</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">y</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">left</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">top</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">center_x</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">center_y</span></code>) to have the
<code class="xref py py-class docutils literal"><span class="pre">Widget</span></code> positioned relative to its <code class="xref py py-attr docutils literal"><span class="pre">parent</span></code>.</p>
<p>Let&#8217;s experiment with the following code in kivycatalog to understand <code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code>
visually:</p>
<div class="highlight-kv"><div class="highlight"><pre><span></span><span class="nc">FloatLayout</span><span class="p">:</span>
    <span class="nc">Button</span><span class="p">:</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">&quot;We Will&quot;</span>
        <span class="na">pos</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span>
        <span class="na">size_hint</span><span class="p">:</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span>
    <span class="nc">Button</span><span class="p">:</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">&quot;Wee Wiill&quot;</span>
        <span class="na">pos</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span>
        <span class="na">size_hint</span><span class="p">:</span> <span class="o">.</span><span class="mi">4</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span>

    <span class="nc">Button</span><span class="p">:</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">&quot;ROCK YOU!!&quot;</span>
        <span class="na">pos_hint</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">6</span><span class="p">}</span>
        <span class="na">size_hint</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span>
</pre></div>
</div>
<p>This gives us:</p>
<img alt="../_images/pos_hint.jpg" src="../_images/pos_hint.jpg" />
<p>As with <code class="xref py py-attr docutils literal"><span class="pre">size_hint</span></code>, you should experiment with <code class="xref py py-attr docutils literal"><span class="pre">pos_hint</span></code> to
understand the effect it has on the widget positions.</p>
</div>
<div class="section" id="adding-a-background-to-a-layout">
<span id="adding-widget-background"></span><h2>Adding a Background to a Layout<a class="headerlink" href="#adding-a-background-to-a-layout" title="Permalink to this headline">¶</a></h2>
<p>One of the frequently asked questions about layouts is::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;How to add a background image/color/video/... to a Layout&quot;</span>
</pre></div>
</div>
<p>Layouts by their nature have no visual representation: they have no canvas
instructions by default. However you can add canvas instructions to a layout
instance easily, as with adding a colored background:</p>
<p>In Python:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.graphics</span> <span class="k">import</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Rectangle</span>

<span class="k">with</span> <span class="n">layout_instance</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">before</span><span class="p">:</span>
    <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># green; colors range from 0-1 instead of 0-255</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">layout_instance</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                           <span class="n">pos</span><span class="o">=</span><span class="n">layout_instance</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
<p>Unfortunately, this will only draw a rectangle at the layout&#8217;s initial position
and size. To make sure the rect is drawn inside the layout, when the layout
size/pos changes, we need to listen to any changes and update the rectangles
size and pos. We can do that as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">layout_instance</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">before</span><span class="p">:</span>
    <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># green; colors range from 0-1 instead of 0-255</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">layout_instance</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                           <span class="n">pos</span><span class="o">=</span><span class="n">layout_instance</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update_rect</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">pos</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">size</span>

<span class="c1"># listen to size and position changes</span>
<span class="n">layout_instance</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">update_rect</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">update_rect</span><span class="p">)</span>
</pre></div>
</div>
<p>In kv:</p>
<div class="highlight-kv"><div class="highlight"><pre><span></span><span class="nc">FloatLayout</span><span class="p">:</span>
    <span class="nc">canvas.before</span><span class="p">:</span>
        <span class="nc">Color</span><span class="p">:</span>
            <span class="na">rgba</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="nc">Rectangle</span><span class="p">:</span>
            <span class="c1"># self here refers to the widget i.e BoxLayout</span>
            <span class="na">pos</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span>
            <span class="na">size</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
<p>The kv declaration sets an implicit binding: the last two kv lines ensure that
the <code class="xref py py-attr docutils literal"><span class="pre">pos</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">size</span></code> values of the rectangle will update when the <code class="xref py py-attr docutils literal"><span class="pre">pos</span></code> of the
<code class="xref py py-mod docutils literal"><span class="pre">floatlayout</span></code> changes.</p>
<p>Now we put the snippets above into the shell of Kivy App.</p>
<p>Pure Python way:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.graphics</span> <span class="k">import</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Rectangle</span>
<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="k">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>


<span class="k">class</span> <span class="nc">RootWidget</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># make sure we aren&#39;t overriding any important functionality</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RootWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># let&#39;s add a Widget to this layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span>
            <span class="n">Button</span><span class="p">(</span>
                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">,</span>
                <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">}))</span>


<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span> <span class="o">=</span> <span class="n">RootWidget</span><span class="p">()</span>
        <span class="n">root</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_rect</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_rect</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">root</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">before</span><span class="p">:</span>
            <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># green; colors range from 0-1 not 0-255</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">root</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">root</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">root</span>

    <span class="k">def</span> <span class="nf">_update_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">size</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Using the kv Language:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.lang</span> <span class="k">import</span> <span class="n">Builder</span>


<span class="n">root</span> <span class="o">=</span> <span class="n">Builder</span><span class="o">.</span><span class="n">load_string</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">FloatLayout:</span>
<span class="s1">    canvas.before:</span>
<span class="s1">        Color:</span>
<span class="s1">            rgba: 0, 1, 0, 1</span>
<span class="s1">        Rectangle:</span>
<span class="s1">            # self here refers to the widget i.e FloatLayout</span>
<span class="s1">            pos: self.pos</span>
<span class="s1">            size: self.size</span>
<span class="s1">    Button:</span>
<span class="s1">        text: &#39;Hello World!!&#39;</span>
<span class="s1">        size_hint: .5, .5</span>
<span class="s1">        pos_hint: {&#39;center_x&#39;:.5, &#39;center_y&#39;: .5}</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">root</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Both of the Apps should look something like this:</p>
<img alt="../_images/layout_background.png" src="../_images/layout_background.png" />
<div class="section" id="add-a-color-to-the-background-of-a-custom-layouts-rule-class">
<h3>Add a color to the background of a <strong>custom layouts rule/class</strong><a class="headerlink" href="#add-a-color-to-the-background-of-a-custom-layouts-rule-class" title="Permalink to this headline">¶</a></h3>
<p>The way we add background to the layout&#8217;s instance can quickly become
cumbersome if we need to use multiple layouts. To help with this, you can
subclass the Layout and create your own layout that adds a background.</p>
<p>Using Python:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.graphics</span> <span class="k">import</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Rectangle</span>
<span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="k">import</span> <span class="n">BoxLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="k">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.image</span> <span class="k">import</span> <span class="n">AsyncImage</span>


<span class="k">class</span> <span class="nc">RootWidget</span><span class="p">(</span><span class="n">BoxLayout</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">CustomLayout</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># make sure we aren&#39;t overriding any important functionality</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CustomLayout</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">before</span><span class="p">:</span>
            <span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># green; colors range from 0-1 instead of 0-255</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_rect</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_update_rect</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">size</span>


<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">RootWidget</span><span class="p">()</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">CustomLayout</span><span class="p">()</span>
        <span class="n">root</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span>
            <span class="n">AsyncImage</span><span class="p">(</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;http://www.everythingzoomer.com/wp-content/uploads/2013/01/Monday-joke-289x277.jpg&quot;</span><span class="p">,</span>
                <span class="n">size_hint</span><span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">}))</span>
        <span class="n">root</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">AsyncImage</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;http://www.stuffistumbledupon.com/wp-content/uploads/2012/05/Have-you-seen-this-dog-because-its-awesome-meme-puppy-doggy.jpg&#39;</span><span class="p">))</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">CustomLayout</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span>
            <span class="n">AsyncImage</span><span class="p">(</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;http://www.stuffistumbledupon.com/wp-content/uploads/2012/04/Get-a-Girlfriend-Meme-empty-wallet.jpg&quot;</span><span class="p">,</span>
                <span class="n">size_hint</span><span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">}))</span>
        <span class="n">root</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">root</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Using the kv Language:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="k">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="k">import</span> <span class="n">BoxLayout</span>
<span class="kn">from</span> <span class="nn">kivy.lang</span> <span class="k">import</span> <span class="n">Builder</span>


<span class="n">Builder</span><span class="o">.</span><span class="n">load_string</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;CustomLayout&gt;</span>
<span class="s1">    canvas.before:</span>
<span class="s1">        Color:</span>
<span class="s1">            rgba: 0, 1, 0, 1</span>
<span class="s1">        Rectangle:</span>
<span class="s1">            pos: self.pos</span>
<span class="s1">            size: self.size</span>

<span class="s1">&lt;RootWidget&gt;</span>
<span class="s1">    CustomLayout:</span>
<span class="s1">        AsyncImage:</span>
<span class="s1">            source: &#39;http://www.everythingzoomer.com/wp-content/uploads/2013/01/Monday-joke-289x277.jpg&#39;</span>
<span class="s1">            size_hint: 1, .5</span>
<span class="s1">            pos_hint: {&#39;center_x&#39;:.5, &#39;center_y&#39;: .5}</span>
<span class="s1">    AsyncImage:</span>
<span class="s1">        source: &#39;http://www.stuffistumbledupon.com/wp-content/uploads/2012/05/Have-you-seen-this-dog-because-its-awesome-meme-puppy-doggy.jpg&#39;</span>
<span class="s1">    CustomLayout</span>
<span class="s1">        AsyncImage:</span>
<span class="s1">            source: &#39;http://www.stuffistumbledupon.com/wp-content/uploads/2012/04/Get-a-Girlfriend-Meme-empty-wallet.jpg&#39;</span>
<span class="s1">            size_hint: 1, .5</span>
<span class="s1">            pos_hint: {&#39;center_x&#39;:.5, &#39;center_y&#39;: .5}</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">RootWidget</span><span class="p">(</span><span class="n">BoxLayout</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">CustomLayout</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RootWidget</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Both of the Apps should look something like this:</p>
<img alt="../_images/custom_layout_background.png" src="../_images/custom_layout_background.png" />
<p>Defining the background in the custom layout class, assures that it will be used
in every instance of CustomLayout.</p>
<p>Now, to add an image or color to the background of a built-in Kivy layout,
<strong>globally</strong>, we need to override the kv rule for the layout in question.
Consider GridLayout:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">GridLayout</span><span class="o">&gt;</span>
    <span class="n">canvas</span><span class="o">.</span><span class="n">before</span><span class="p">:</span>
        <span class="n">Color</span><span class="p">:</span>
            <span class="n">rgba</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="n">BorderImage</span><span class="p">:</span>
            <span class="n">source</span><span class="p">:</span> <span class="s1">&#39;../examples/widgets/sequenced_images/data/images/button_white.png&#39;</span>
            <span class="n">pos</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span>
            <span class="n">size</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
<p>Then, when we put this snippet into a Kivy app:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="k">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.lang</span> <span class="k">import</span> <span class="n">Builder</span>


<span class="n">Builder</span><span class="o">.</span><span class="n">load_string</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;GridLayout&gt;</span>
<span class="s1">    canvas.before:</span>
<span class="s1">        BorderImage:</span>
<span class="s1">            # BorderImage behaves like the CSS BorderImage</span>
<span class="s1">            border: 10, 10, 10, 10</span>
<span class="s1">            source: &#39;../examples/widgets/sequenced_images/data/images/button_white.png&#39;</span>
<span class="s1">            pos: self.pos</span>
<span class="s1">            size: self.size</span>

<span class="s1">&lt;RootWidget&gt;</span>
<span class="s1">    GridLayout:</span>
<span class="s1">        size_hint: .9, .9</span>
<span class="s1">        pos_hint: {&#39;center_x&#39;: .5, &#39;center_y&#39;: .5}</span>
<span class="s1">        rows:1</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;I don&#39;t suffer from insanity, I enjoy every minute of it&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;top&#39;</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;When I was born I was so surprised; I didn&#39;t speak for a year and a half.&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;middle&#39;</span>
<span class="s1">            halign: &#39;center&#39;</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;A consultant is someone who takes a subject you understand and makes it sound confusing&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;bottom&#39;</span>
<span class="s1">            halign: &#39;justify&#39;</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">RootWidget</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RootWidget</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The result should look something like this:</p>
<img alt="../_images/global_background.png" src="../_images/global_background.png" />
<p>As we are overriding the rule of the class GridLayout, any use of this
class in our app will display that image.</p>
<p>How about an <strong>Animated background</strong>?</p>
<p>You can set the drawing instructions like Rectangle/BorderImage/Ellipse/... to
use a particular texture:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="p">:</span>
    <span class="n">texture</span><span class="p">:</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">a</span> <span class="n">texture</span>
</pre></div>
</div>
<p>We use this to display an animated background:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="k">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.gridlayout</span> <span class="k">import</span> <span class="n">GridLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.image</span> <span class="k">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">kivy.properties</span> <span class="k">import</span> <span class="n">ObjectProperty</span>
<span class="kn">from</span> <span class="nn">kivy.lang</span> <span class="k">import</span> <span class="n">Builder</span>


<span class="n">Builder</span><span class="o">.</span><span class="n">load_string</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;CustomLayout&gt;</span>
<span class="s1">    canvas.before:</span>
<span class="s1">        BorderImage:</span>
<span class="s1">            # BorderImage behaves like the CSS BorderImage</span>
<span class="s1">            border: 10, 10, 10, 10</span>
<span class="s1">            texture: self.background_image.texture</span>
<span class="s1">            pos: self.pos</span>
<span class="s1">            size: self.size</span>

<span class="s1">&lt;RootWidget&gt;</span>
<span class="s1">    CustomLayout:</span>
<span class="s1">        size_hint: .9, .9</span>
<span class="s1">        pos_hint: {&#39;center_x&#39;: .5, &#39;center_y&#39;: .5}</span>
<span class="s1">        rows:1</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;I don&#39;t suffer from insanity, I enjoy every minute of it&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;top&#39;</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;When I was born I was so surprised; I didn&#39;t speak for a year and a half.&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;middle&#39;</span>
<span class="s1">            halign: &#39;center&#39;</span>
<span class="s1">        Label:</span>
<span class="s1">            text: &quot;A consultant is someone who takes a subject you understand and makes it sound confusing&quot;</span>
<span class="s1">            text_size: self.width-20, self.height-20</span>
<span class="s1">            valign: &#39;bottom&#39;</span>
<span class="s1">            halign: &#39;justify&#39;</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CustomLayout</span><span class="p">(</span><span class="n">GridLayout</span><span class="p">):</span>

    <span class="n">background_image</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">(</span>
        <span class="n">Image</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="s1">&#39;../examples/widgets/sequenced_images/data/images/button_white_animated.zip&#39;</span><span class="p">,</span>
            <span class="n">anim_delay</span><span class="o">=.</span><span class="mi">1</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">RootWidget</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RootWidget</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MainApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>To try to understand what is happening here, start from line 13:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">texture</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">background_image</span><span class="o">.</span><span class="n">texture</span>
</pre></div>
</div>
<p>This specifies that the <cite>texture</cite> property of <cite>BorderImage</cite> will be updated
whenever the <cite>texture</cite> property of <cite>background_image</cite> updates. We define the
background_image property at line 40:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">background_image</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">(</span><span class="o">...</span>
</pre></div>
</div>
<p>This sets up <cite>background_image</cite> as an <code class="xref py py-class docutils literal"><span class="pre">ObjectProperty</span></code> in which we add an <code class="xref py py-class docutils literal"><span class="pre">Image</span></code>
widget. An image widget has a <cite>texture</cite> property; where you see
<cite>self.background_image.texture</cite>, this sets a reference, <cite>texture</cite>, to this property.
The <code class="xref py py-class docutils literal"><span class="pre">Image</span></code> widget supports animation: the texture of the image is updated whenever
the animation changes, and the texture of BorderImage instruction is updated in
the process.</p>
<p>You can also just blit custom data to the texture. For details, look at the
documention of <code class="xref py py-class docutils literal"><span class="pre">Texture</span></code>.</p>
</div>
</div>
<div class="section" id="nesting-layouts">
<h2>Nesting Layouts<a class="headerlink" href="#nesting-layouts" title="Permalink to this headline">¶</a></h2>
<p>Yes! It is quite fun to see how extensible the process can be.</p>
</div>
<div class="section" id="size-and-position-metrics">
<h2>Size and position metrics<a class="headerlink" href="#size-and-position-metrics" title="Permalink to this headline">¶</a></h2>
<p>Kivy&#8217;s default unit for length is the pixel, all sizes and positions are
expressed in it by default. You can express them in other units, which is
useful to achieve better consistency across devices (they get converted to the
size in pixels automatically).</p>
<p>Available units are <code class="xref py py-attr docutils literal"><span class="pre">pt</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">mm</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">cm</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">inch</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">dp</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">sp</span></code>. You can learn about
their usage in the <code class="xref py py-mod docutils literal"><span class="pre">metrics</span></code> documentation.</p>
<p>You can also experiment with the <code class="xref py py-mod docutils literal"><span class="pre">screen</span></code> usage to simulate various devices
screens for your application.</p>
</div>
<div class="section" id="screen-separation-with-screen-manager">
<h2>Screen Separation with Screen Manager<a class="headerlink" href="#screen-separation-with-screen-manager" title="Permalink to this headline">¶</a></h2>
<p>If your application is composed of various screens, you likely want an easy
way to navigate from one <code class="xref py py-class docutils literal"><span class="pre">Screen</span></code> to another. Fortunately, there is the
<code class="xref py py-class docutils literal"><span class="pre">ScreenManager</span></code> class, that allows you to define screens separately, and to set
the <code class="xref py py-class docutils literal"><span class="pre">TransitionBase</span></code> from one to another.</p>
</div>
</div>


            <div class="footerlinks">
            <table>
                <tr>
                    <td class="leftlink">
                  <a href="inputs.html" title="previous chapter">&laquo; Input management</a></li>
                  </td>
                  <td class="rightlink">
                  <a href="graphics.html" title="next chapter">Graphics &raquo;</a>
                      </td>
                  </tr>
              </table>
              </div>
          </div>
        </div>
      </div>
      </div>
      <div class="clearer"></div>
    </div>
    </div>
<!-- Piwik --> 
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://txzone.net/piwik/" : "http://txzone.net/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 8);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="https://txzone.net/piwik/piwik.php?idsite=8" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->
    <!--
    <div class="footer">
      &copy; Copyright 2010, The Kivy Authors.
      Last updated on Jun 26, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.4.
</div>
-->
  </body>
</html>